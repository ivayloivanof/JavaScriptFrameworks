"use strict";angular.module("IssueTrackingSystem.controllers.issue",[]).config(["$routeProvider",function(a){a.when("/issues",{templateUrl:"app/issue/partials/issues.html",controller:"Issue"}).when("/issues/:id",{templateUrl:"app/issue/partials/issue-view.html",controller:"Issue"}).when("/issues/:id/edit",{templateUrl:"app/issue/partials/issue-edit.html",controller:"Issue"}).when("/projects/:id/add-issue",{templateUrl:"app/issue/partials/issue-add.html",controller:"Issue"})}]).controller("Issue",["$scope","debug","pageNumber","issues","$routeParams","$route","$location",function(o,c,l,i,n,k,h){o.page=l;o.getAllIssues=function f(){i.getAllIssues("In Progress",31,1000,1).then(function(p){c?console.log("All issues:",p):"";o.issues=p.data.Issues})};o.getIssueById=function d(){i.getIssuesById(n.id).then(function(p){c?console.log("Route params:",n):"";c?console.log("Issue by Id:",p):"";o.issue=p.data})};o.getIssueByProjectId=function m(){i.getIssuesByProjectId(n.id).then(function(p){c?console.log("Route params:",n):"";c?console.log("Issues by Project Id:",p):"";o.issues=p.data})};o.getAllCommentsByIssueId=function b(){i.getAllIssueComments(n.id).then(function(p){c?console.log("Route params:",n):"";c?console.log("All Comments:",p):"";o.comments=p.data})};o.getMyIssues=function(){console.log(l);i.getMyIssues(l).then(function(p){c?console.log("All my issues:",p):"";o.issues=p.data.Issues})};o.nextPage=function j(p){console.log(p)};o.prevPage=function g(p){console.log(p)};o.addIssue=function a(p){var q={Title:p.title,Description:p.description,DueDate:p.dueDate,ProjectId:p.projectId,AssigneeId:p.assigneeId,PriorityId:p.priorityId,Labels:[]};p.labels=p.labels.split(",");p.labels.forEach(function(r){q.Labels.push({Name:r.trim()})});i.addIssue(q).then(function(r){c?console.log("Add issue success:",r):"";h.path("/")})};o.editIssue=function(p){o.issueEdit;console.log(p)};o.addComment=function e(r,p){var q={Author:p,CreatedOn:new Date(),Text:r.text};i.addCommentToIssue(n.id,q).then(function(s){c?console.log("Route params:",n):"";c?console.log("Add Comment success:",s):"";k.reload()})}}]);