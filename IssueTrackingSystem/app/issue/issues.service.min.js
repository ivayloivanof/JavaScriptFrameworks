"use strict";angular.module("IssueTrackingSystem.services.issues",[]).factory("issues",["$http","$q","BASE_URL","header",function(n,k,m,h){function f(q,s,p,o){var r,t;r=k.defer();t=m+'issues/?filter=Status.Name == "'+q+'" or DueDate.Day <='+s;if(p){t+="&pageSize="+p}if(o){t+="&pageNumber="+o}n({method:"get",url:t,headers:h.authenticationHeader()}).then(function(u){r.resolve(u)}).then(function(u){r.reject(u)});return r.promise}function i(p,o,r){var q=k.defer();n({method:"get",url:m+"issues/me?pageSize="+p+"&pageNumber="+o+"&orderBy="+r,headers:h.authenticationHeader()}).then(function(s){q.resolve(s)},function(s){q.reject(s)});return q.promise}function j(p){var o=k.defer();n({method:"get",url:m+"issues/"+p,headers:h.authenticationHeader()}).then(function(q){o.resolve(q)},function(q){o.reject(q)});return o.promise}function d(p){var o=k.defer();n({method:"get",url:m+"projects/"+p+"/issues",headers:h.authenticationHeader()}).then(function(q){o.resolve(q)},function(q){o.reject(q)});return o.promise}function e(o){var p=k.defer();n({method:"get",url:m+"issues/me?orderBy=DueDate,IssueKey&pageSize=5&pageNumber="+o,headers:h.authenticationHeader()}).then(function(q){p.resolve(q)},function(q){p.reject(q)});return p.promise}function a(o){var p=k.defer();n({method:"post",url:m+"issues",data:o,headers:h.authenticationHeader()}).then(function(q){p.resolve(q)},function(q){p.reject(q)});return p.promise}function c(q,o){var p=k.defer();n({method:"put",url:m+"issues/"+q,data:o,headers:h.authenticationHeader()}).then(function(r){p.resolve(r)},function(r){p.reject(r)});return p.promise}function l(q,p){var o=k.defer();n({method:"put",url:m+"issues/"+q+"/changestatus?statusid="+p,data:null,headers:h.authenticationHeader()}).then(function(r){o.resolve(r)},function(r){o.reject(r)});return o.promise}function g(p){var o=k.defer();n({method:"get",url:m+"issues/"+p+"/comments",headers:h.authenticationHeader()}).then(function(q){o.resolve(q)},function(q){o.reject(q)});return o.promise}function b(q,p){var o=k.defer();n({method:"post",url:m+"issues/"+q+"/comments",data:p,headers:h.authenticationHeader()}).then(function(r){o.resolve(r)},function(r){o.reject(r)});return o.promise}return{getAllIssues:f,getActiveUserIssues:i,getIssuesById:j,getIssuesByProjectId:d,getMyIssues:e,addIssue:a,editIssueById:c,editIssueStatus:l,getAllIssueComments:g,addCommentToIssue:b}}]);