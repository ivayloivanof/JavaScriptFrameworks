"use strict";angular.module("IssueTrackingSystem.services.authentication",[]).factory("authentication",["$http","$q","BASE_URL","$sessionStorage","header",function(h,b,f,e,g){function c(j){var i=b.defer();var k="email="+j.email+"&password="+j.password+"&confirmPassword="+j.confirmPassword;h({method:"post",url:f+"api/Account/Register",data:k,headers:g.getWWWContent()}).then(function(l){i.resolve(l)}).then(function(l){i.reject(l)});return i.promise}function d(k){var j=b.defer();k.grant_type="password";var i="grant_type=password&username="+k.username+"&password="+k.password;h({method:"post",url:f+"api/Token",data:i,headers:g.getWWWContent()}).then(function(l){j.resolve(l)}).then(function(l){j.reject(l)});return j.promise}function a(){delete e.access_token;delete e.token_type;delete e.username;delete e.isAdmin;delete e.Id;e.isAuthenticated=false}return{registerUser:c,loginUser:d,logout:a}}]);